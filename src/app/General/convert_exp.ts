// import expTable from './rank_exp.json'; // Importing the JSON data

const expTable = {"1":0,"2":10,"3":5,"4":11,"5":11,"6":15,"7":21,"8":22,"9":28,"10":39,"11":45,"12":61,"13":65,"14":70,"15":79,"16":93,"17":117,"18":127,"19":148,"20":168,"21":174,"22":185,"23":187,"24":188,"25":190,"26":202,"27":203,"28":205,"29":206,"30":208,"31":210,"32":232,"33":234,"34":236,"35":301,"36":449,"37":577,"38":728,"39":896,"40":1100,"41":1175,"42":1250,"43":1374,"44":1488,"45":1871,"46":1971,"47":2153,"48":2238,"49":2347,"50":2781,"51":2881,"52":2982,"53":3084,"54":3188,"55":3429,"56":3539,"57":3650,"58":3762,"59":3876,"60":4666,"61":4869,"62":5074,"63":5281,"64":5491,"65":6336,"66":6574,"67":6814,"68":7056,"69":7301,"70":9089,"71":9143,"72":9196,"73":9249,"74":9303,"75":11008,"76":11070,"77":11133,"78":11196,"79":11259,"80":14535,"81":14616,"82":14697,"83":14777,"84":14858,"85":18398,"86":18498,"87":18597,"88":18697,"89":18796,"90":22045,"91":22729,"92":22848,"93":22967,"94":23086,"95":26520,"96":26656,"97":26792,"98":26928,"99":27064,"100":34000,"101":41788,"102":41996,"103":42204,"104":42412,"105":42620,"106":48946,"107":49183,"108":49421,"109":49658,"110":49896,"111":59935,"112":60219,"113":60503,"114":60787,"115":61071,"116":68947,"117":69266,"118":69586,"119":69905,"120":70224,"121":78731,"122":79088,"123":79444,"124":79800,"125":80156,"126":89462,"127":89858,"128":90254,"129":90650,"130":91046,"131":91441,"132":91837,"133":92233,"134":92629,"135":93025,"136":93421,"137":93816,"138":94212,"139":94608,"140":102312,"141":102738,"142":103165,"143":103591,"144":104017,"145":104444,"146":104870,"147":105296,"148":105722,"149":106149,"150":106575,"151":107001,"152":107428,"153":107854,"154":108280,"155":108707,"156":109133,"157":109559,"158":109985,"159":110412,"160":110838,"161":111264,"162":111691,"163":112117,"164":112543,"165":112970,"166":113396,"167":113822,"168":114248,"169":114675,"170":115101,"171":115527,"172":115954,"173":116380,"174":116806,"175":117233,"176":120000,"177":120000,"178":120000,"179":120000,"180":120000,"181":120000,"182":120000,"183":120000,"184":120000,"185":120000,"186":120000,"187":120000,"188":120000,"189":120000,"190":120000,"191":120000,"192":120000,"193":120000,"194":120000,"195":120000,"196":120000,"197":120000,"198":120000,"199":120000,"200":120000,"201":120000,"202":120000,"203":120000,"204":120000,"205":120000,"206":120000,"207":120000,"208":120000,"209":120000,"210":120000,"211":120000,"212":120000,"213":120000,"214":120000,"215":120000,"216":120000,"217":120000,"218":120000,"219":120000,"220":120000,"221":120000,"222":120000,"223":120000,"224":120000,"225":120000,"226":120000,"227":120000,"228":120000,"229":120000,"230":120000,"231":120000,"232":120000,"233":120000,"234":120000,"235":120000,"236":120000,"237":120000,"238":120000,"239":120000,"240":120000,"241":120000,"242":120000,"243":120000,"244":120000,"245":120000,"246":120000,"247":120000,"248":120000,"249":120000,"250":120000}

class ConvertExp {
    // Type the exp_table property
    private expTable: Record<number, number> = expTable;

    constructor() {
        // Constructor remains the same
    }

    levelToExp(level: number): number {
        let exp = 0;
        // Type the key in the loop
        for (const key in this.expTable) {
            // Ensure key is a number
            const numKey = parseInt(key, 10);
            if (numKey <= level) {
                exp += this.expTable[numKey];
            }
        }
        return exp;
    }

    expToLevel(exp: number): number {
        let exp_ = 0;
        // Type the key in the loop
        for (const key in this.expTable) {
            // Ensure key is a number
            const numKey = parseInt(key, 10);
            exp_ += this.expTable[numKey];
            if (exp_ > exp) {
                return numKey - 1;
            }
        }

        return exp === 16412378 ? 250 : exp_; // Simplified the last check
    }
}

export default ConvertExp; // Exporting the class
